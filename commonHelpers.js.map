{"version":3,"file":"commonHelpers.js","sources":["../src/partials/work-together/work-together.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst STORAGE_KEY = 'formData';\n\nconst formData = getFromLocalStorage() || {\n  userEmail: '',\n  userComments: '',\n};\n\ninputEmail.value = formData.userEmail;\ninputComments.value = formData.userComments;\n\nform.addEventListener('input', event => {\n  resetFieldValidation(event.target);\n\n  const { name, value } = event.target;\n  formData[name] = value.trim();\n  setToLocalStorage(formData);\n});\n\nform.addEventListener('submit', onSubmit);\n\nasync function onSubmit(event) {\n  event.preventDefault();\n  const { userEmail, userComments } = formData;\n\n  const isValidEmail = validateEmail(userEmail);\n  const isValidText = validateText(userComments);\n\n  if (!isValidEmail || !isValidText) {\n    return;\n  }\n\n  try {\n    const data = await sendUserDataApi({\n      email: userEmail,\n      comment: userComments,\n    });\n    openModalWithData(data);\n\n    resetData();\n  } catch (error) {\n    iziToast.error({\n      title: 'Error',\n      message: error.message,\n      position: 'topRight',\n    });\n  }\n}\n\n// helpers\nfunction setToLocalStorage(value, key = STORAGE_KEY) {\n  localStorage.setItem(key, JSON.stringify(value));\n}\nfunction getFromLocalStorage(key = STORAGE_KEY) {\n  return JSON.parse(localStorage.getItem(key));\n}\n\nfunction resetData(key = STORAGE_KEY) {\n  localStorage.removeItem(key);\n  form.reset();\n  resetAllValidation();\n  formData.userEmail = '';\n  formData.userComments = '';\n}\n"],"names":["STORAGE_KEY","formData","getFromLocalStorage","event","name","value","setToLocalStorage","onSubmit","userEmail","userComments","isValidEmail","isValidText","data","resetData","error","iziToast","key"],"mappings":"svBAGA,MAAMA,EAAc,WAEdC,EAAWC,EAAmB,GAAM,CACxC,UAAW,GACX,aAAc,EAChB,EAEA,WAAW,MAAQD,EAAS,UAC5B,cAAc,MAAQA,EAAS,aAE/B,KAAK,iBAAiB,QAASE,GAAS,CACtC,qBAAqBA,EAAM,MAAM,EAEjC,KAAM,CAAE,KAAAC,EAAM,MAAAC,GAAUF,EAAM,OAC9BF,EAASG,CAAI,EAAIC,EAAM,KAAI,EAC3BC,EAAkBL,CAAQ,CAC5B,CAAC,EAED,KAAK,iBAAiB,SAAUM,CAAQ,EAExC,eAAeA,EAASJ,EAAO,CAC7BA,EAAM,eAAc,EACpB,KAAM,CAAE,UAAAK,EAAW,aAAAC,CAAc,EAAGR,EAE9BS,EAAe,cAAcF,CAAS,EACtCG,EAAc,aAAaF,CAAY,EAE7C,GAAI,GAACC,GAAgB,CAACC,GAItB,GAAI,CACF,MAAMC,EAAO,MAAM,gBAAgB,CACjC,MAAOJ,EACP,QAASC,CACf,CAAK,EACD,kBAAkBG,CAAI,EAEtBC,GACD,OAAQC,EAAO,CACdC,EAAS,MAAM,CACb,MAAO,QACP,QAASD,EAAM,QACf,SAAU,UAChB,CAAK,CACF,CACH,CAGA,SAASR,EAAkBD,EAAOW,EAAMhB,EAAa,CACnD,aAAa,QAAQgB,EAAK,KAAK,UAAUX,CAAK,CAAC,CACjD,CACA,SAASH,EAAoBc,EAAMhB,EAAa,CAC9C,OAAO,KAAK,MAAM,aAAa,QAAQgB,CAAG,CAAC,CAC7C,CAEA,SAASH,EAAUG,EAAMhB,EAAa,CACpC,aAAa,WAAWgB,CAAG,EAC3B,KAAK,MAAK,EACV,qBACAf,EAAS,UAAY,GACrBA,EAAS,aAAe,EAC1B"}